{% extends "base.html" %}
{% block content %}
{% load comments %}
<script type="text/javascript" src="/static/syntaxhighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="/static/syntaxhighlighter/scripts/shBrushPython.js"></script>
<link href="/static/syntaxhighlighter/styles/shCoreDefault.css" rel="stylesheet" type="text/css" />
<link href="/static/syntaxhighlighter/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<link href="/static/syntaxhighlighter/github-markdown.css" rel="stylesheet" type="text/css" />
<link href="/static/syntaxhighlighter/github.css" rel="stylesheet" type="text/css" />
<style>
    .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 980px;
        margin: 0 auto;
        padding: 25px;
    }
    @media (max-width: 767px){
        .markdown-body {
            padding: 15px;
        }
    }
</style>
<div class = "posts">
	<section class="post">
		<header class="post-header">
			<h2 class= "post-title">{{blog.title}}<h2>
				<p class = "post-meta">
					Time: <a class="post-author" href="#">{{blog.date_time | date:'Y M d'}}</a>&nbsp
					Tag:
					{% for tag in blog.tags.all  %}
					<a class="post-category" href="#">{{tag.tag_name}}</a>
					{% endfor %}
					Count:
					{% get_comment_count for blog as comment_count %}
					{{comment_count}}

				</p>
		</header>

			<div class="post-description markdown-body">
				<p>
					{{blog_content|safe}}
				</p>
			</div>
	</section>
	<h3>comments</h3>
	<ul>
		{% get_comment_list for blog as comment_list %}
		{% for comment in comment_list %}
		<li>
		{{ comment.submit_date }}<br/>
		{{comment.comment}}<br/>
		</li>
		{% endfor %}
	</ul>
	<h3>leave a comment</h3>
	<form action="/blog/sub_comment/" class="pure-form pure-form-stacked" method="post">
	<textarea name="comment_content"></textarea>
	<input type="hidden" name="blog_id" value={{blog.id}}>
	<input type="submit" class="pure-button" value="ok">
	</form>

<script type="text/javascript">SyntaxHighlighter.all();</script>
{% endblock %}
